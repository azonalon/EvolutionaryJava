apply plugin: 'java'
apply plugin: 'eclipse'

project.ext.lwjglVersion = "3.1.5"
project.ext.natives = "natives-linux"

repositories {
    mavenCentral()
}


dependencies {
    compile "org.lwjgl:lwjgl:${lwjglVersion}"
    compile "org.lwjgl:lwjgl-glfw:${lwjglVersion}"
    compile "org.lwjgl:lwjgl-opengl:${lwjglVersion}"
    compile "org.joml:joml:1.9.6"
    compile "org.lwjgl:lwjgl:${lwjglVersion}:${natives}"
    compile "org.lwjgl:lwjgl-glfw:${lwjglVersion}:${natives}"
    compile "org.lwjgl:lwjgl-opengl:${lwjglVersion}:${natives}"
}


task runApp(type: JavaExec) {
    dependsOn classes
    jvmArgs "-Dorg.lwjgl.util.DebugLoader=true", "-ea"
    classpath sourceSets.main.runtimeClasspath
    main = 'Main'
    /*println(commandLine)*/
    File f = file(".classpath")
    classpath.each{ File file->
        f.write(configurations.compile.asPath)
    }
}
